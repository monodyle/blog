---
import Layout from "../../layouts/Layout.astro";
import { getCollection } from "astro:content";

const content = (await getCollection("til"))
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
  .map((entry) => ({
    ...entry,
    slug: entry.filePath?.split("/").pop()?.split(".")[0],
  }));
---

<Layout title="monody's til">
  <div class="container px-3 py-24">
    <h1 class="text-2xl font-instrument-serif">
      Which days are the strongest? — <em>Saturday and Sunday</em>
    </h1>
    <p>
      The rest are <em>weekdays</em>.
    </p>
    <div class="pt-12">
      <ul class="space-y-4">
        {
          content.map((entry) => (
            <li class="border-b border-border pb-4">
              <a href={`/til/${entry.slug}`}>
                <span class="text-subtle">{entry.data.date} —</span>
                {entry.data.title}
              </a>
            </li>
          ))
        }
      </ul>
    </div>
  </div>
</Layout>
